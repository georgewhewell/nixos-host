/dts-v1/;
/plugin/;

/ {
  compatible = "allwinner,sun8i-h3";

  fragment@0 {
    target = <&pio>;
    __overlay__ {
      oled_reset_pins: oled_reset_pins {
        allwinner,pins = "PG11";
        allwinner,function = "gpio_out";
      };
    };
  };

  fragment@1 {
    target = <&pio>;
    __overlay__ {
      oled_dc_pins: oled_dc_pins {
        allwinner,pins = "PA6";
        allwinner,function = "gpio_out";
      };
    };
  };

  fragment@2 {
    target = <&spi0>;

    __overlay__ {
      #address-cells = <1>;
      #size-cells = <0>;

			status = "okay";

      oled: oled@0 {
        reg = <0>;
        compatible = "solomon,ssd1351";
        spi-max-frequency = <10000000>;
        width = <128>;
        height = <128>;
        rotate = <0>;
        debug = <3>;
        buswidth = <8>;

        pinmux-0 = <&oled_dc_pins>;
        pinmux-1 = <&oled_reset_pins>;

        dc-gpios = <&pio 0 6 0>;
        reset-gpios = <&pio 6 11 0>;

				status = "okay";
      };
    };
  };


};
